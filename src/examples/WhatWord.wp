=== WhatWord
â†“ âŒ¨ï¸
â†“ words
`a list of guesses and a secret word`/en
`El estado del juego es una lista de conjeturas y una palabra secreta.`/es
â€¢Game/en, Juego/es(guesses/en,suposiciones/esâ€¢[""] secret/en,secreta/esâ€¢"") (
  guessesRemaining/en,conjeturasRestantes/es: (secret.ğŸ“() Â· 2) - guesses.ğŸ“()
  status/en,estado/es: 
    secret = "" ? "start"
    secretâ†’[""].all(Æ’(letterâ€¢"") guesses.has(letter)) ? "won"
    guessesRemaining â‰¤ 0 ? "lost"
    "playing"
)

start/en,primero/es: Game([] "")

key/en,tecla/es: âŒ¨ï¸()

`When the keyboard state changes, the game state changes.`/en
`Cuando cambia el estado del teclado, cambia el estado del juego.`/es
state/en,estado/esâ€¢Game: âˆ† key ? start â€¦ 
    key = "Escape" ? start
    (state.status â‰  "playing") & (key = " ") ? Game([] words.random())
    (state.status = "playing") & (key.length() = 1) & ~state.guesses.has(key) ? 
      Game(state.guesses.add(key) state.secret)
      state

`The board is a translation of the secret, accounting for guesses`/en
`El tablero es una traducciÃ³n del secreto, teniendo en cuenta las conjeturas.`/es
board/en,tabelro/es: ğŸ’¬(
  state.secretâ†’[""].translate(Æ’(letterâ€¢"") ((state.status = "lost") | state.guesses.has(letter)) ? letter ".").join(' ')
  2m
)

sway/en,vaivÃ©n/es: { 
  0%: Pose(tilt: -2Â°)
  50%: Pose(tilt: 2Â°) 
  100%: Pose(tilt: -2Â°)
} 

bounce/en,rebotar/es: {
  0%: Pose(scale: 1 offset: Place(y: 0m))
  10%: Pose(scale: 1.1 offset: Place(y: 2m))
  30%: Pose(scale: .9 offset: Place(y: 2m))
  50%: Pose(scale: 1 offset: Place(y: 0m))
  57%: Pose(scale: 1 offset: Place(y: .1m))
  64%: Pose(scale: 1 offset: Place(y: 0m))
  100%: Pose(scale: 1 offset: Place(y: 0m))
}

fade/en,descolorar/es: Pose(opacity: 0)

`Construct the game scene`/en
`Construye la escena del juego`/es
screen/en,cine/es: 
  state.status = "start" ? 
    Group(â¬‡() [
      ğŸ’¬(["What***Word***"/en "Que***Palabra***"/es "?_"/ğŸ˜€] 
        3m 
        place:ğŸ“(z: -1m) 
        enter: Pose(opacity: 0%)
        rest: Sequence(sway 1s)
      )
      ğŸ’¬(["press ***space*** to begin"/en "presiona espacio para comenzar"/es])
    ]
    exit: fade
  )
  state.status = "lost" ? 
    Group(â¬‡() [
      board 
      ğŸ’¬(
        [
          "You lost. Press **space** to play again."/en 
          "Perdiste. Presiona **espacio** para volver a jugar"/es
        ] 
        enter: Pose(tilt: 0Â°) 
        rest: Pose(tilt: -5Â°)
      )
    ] exit: fade)
  state.status = "won" ?
    Group(â¬‡() [
        board.rest:Sequence(bounce 1s) 
        ğŸ’¬(["You won, nice job! Press space to play again."/en "Â¡Ganaste, buen trabajo! Presiona la barra espaciadora para volver a jugar"/es])
    ] exit: fade)
    Group(â¬‡() [
      board 
      ğŸ’¬(state.guesses.length() = 0 ? ["Type a letter to guess"/en "Escribe una carta a"/es] ["Guesses: \state.guesses.join(' ')\"/en "Suposiciones: \state.guesses.join(' ')\"/es])
      ğŸ’¬(
        ["\state.guessesRemainingâ†’''\ remaining"/en "\state.guessesRemainingâ†’''\ restante"/es]
        rest: Sequence(sway (state.guessesRemaining Ã· 5) Â·1s)
      )
    ])

`Create a world with the screen in it`/en
`Crea un mundo con la pantalla en Ã©l`/es
Verse([screen] font: "Poor Story" background: ğŸŒˆ(0% 0 0Â°) rest: Pose(color: ğŸŒˆ(100% 0 0Â°)))

=== words
`These are the secret words. Don't tell anyone!`/en
`Estas son las palabras secretas. Â¡No se lo digas a nadie!`/es
[
  'kitty'
  'house'
  'heat'
  'farm'
  'townhouse'
  'heatwave'
]