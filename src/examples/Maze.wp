=== Maze/en
`
A maze is a 2D grid of emoji, with some functions for checking the state at particular grid postions.
Mazes are generated randomly.
`/en
â€¢Maze() (
	grid: 
		[
			[ 'ğŸ¬' 'â¤ï¸' 'âŒ'   Ã¸    Ã¸]
			[ 'â¤ï¸'   Ã¸    Ã¸    Ã¸    Ã¸]
			[ 'ğŸˆ' 'ğŸ˜€' 'ğŸ’¬' 'ğŸ«¥' 'ğŸ˜']
			[   Ã¸  'ğŸ‘'  Ã¸    Ã¸   'ğŸ˜•']
			[ 'ğŸ›‘' 'ğŸ¥¹'  Ã¸   'ğŸ˜«' 'ğŸ˜¡']
    	]
 
	Æ’ cell(rowâ€¢# column â€¢#) (
		cells: grid[row]
		cellsâ€¢Ã¸ ? Ã¸ cells[column] 
	)

	Æ’ allowed(rowâ€¢# columnâ€¢#) cell(row column)â€¢''
)

maze: Maze()

â€¢State(rowâ€¢# columnâ€¢# stepsâ€¢#) 
(
	Æ’ down() State(row + 1 column steps + 1)
	Æ’ up() State(row - 1 column steps + 1)
	Æ’ left() State(row column - 1 steps + 1)
	Æ’ right() State(row column + 1 steps + 1)
)

Æ’  allowed(stateâ€¢State rowâ€¢# colâ€¢#) maze.allowed(state.row + row state.column + col)

direction: choice()
stateâ€¢State:  âˆ† direction ? State(1 1 0) â€¦
		((direction = "left") & allowed(state 0 -1)) ? state.left()
			((direction = "right") & allowed(state 0 1)) ? state.right()
				((direction = "up") & allowed(state -1 0)) ? state.up()
					((direction = "down") & allowed(state 1 0)) ? state.down()
						state

current: ( cell: maze.cell(state.row state.column) cellâ€¢Ã¸ ? ' ' cell)
up: ( cell: maze.cell(state.row - 1 state.column) cellâ€¢Ã¸ ? ' ' 'â†‘')
down: ( cell: maze.cell(state.row + 1 state.column) cellâ€¢Ã¸ ? ' ' 'â†“')
left: ( cell: maze.cell(state.row state.column - 1) cellâ€¢Ã¸ ? ' ' 'â†')
right: ( cell: maze.cell(state.row state.column + 1) cellâ€¢Ã¸ ? ' ' 'â†’')
won: current = 'ğŸ›‘'

Verse(
	[
		Group(
			Row(0m) 
			[
				Phrase(left name: 'left' selectable: left.length() > 0 place: Place(-1m 1m))				 
				Group(
					Stack(0m) 
					[
						Phrase(up name: 'up' selectable: up.length() > 0)
						Phrase(current)
						Phrase(down name: 'down' selectable: down.length() > 0)
					]
				)
				Phrase(right name: 'right' selectable: right.length() > 0 place: Place(1m 1m))
			]
		)
	Phrase(
		won ? 'ğŸ¤©' state.steps â†’ '' 
		rest: won ? 
			Sequence({ 
				0%: Pose(tilt: 359Â°) 
				100%:ğŸ¤ª(tilt: 0Â°)
			} â³: 1s style: 'straight') 
			Pose() 
		font: 'Noto Sans'
      	place:Place(0m-3m)
	)
]
  place: Place(0m 0m -3m)
	font: 'Noto Emoji'
  background: Color(0 0 0Â°)
	rest: Pose(Color(100 100 0Â°))
)