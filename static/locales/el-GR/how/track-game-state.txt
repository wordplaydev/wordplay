Παρακολουθήστε την κατάσταση του παιχνιδιού

Τα περισσότερα παιχνίδια παρακολουθούν πολλά πράγματα καθώς εξελίσσεται ένα παιχνίδι: οι πόντοι, οι θέσεις των παικτών και άλλες λεπτομέρειες είναι όλα σημαντικά.Κάθε φορά που υπάρχει κάποια είσοδος, αυτή η κατάσταση αλλάζει και στη συνέχεια θέλουμε να εμφανίσουμε νέα έξοδο, ως απόκριση.

Ένα γενικό μοτίβο για οποιοδήποτε παιχνίδι κάνει τρία πράγματα:

• Ορίστε μια δομή δεδομένων κατάστασης παιχνιδιού, για να αποθηκεύσετε όλη την κατάσταση του παιχνιδιού• Ορίστε μια αντίδραση που δημιουργεί μια νέα κατάσταση παιχνιδιού με βάση την προηγούμενη κατάσταση παιχνιδιού κάθε φορά που υπάρχει νέα είσοδος• Φτιάξτε ένα @Stage με @Group και @Phrase για να δείξει την κατάσταση του παιχνιδιού

Για παράδειγμα, ας φανταστούμε ένα απλό παιχνίδι που περιλαμβάνει την πληκτρολόγηση μυστικών λέξεων σε ένα πλαίσιο κειμένου και τη λήψη ενός πόντου κάθε φορά που μαντεύεται μια μυστική λέξη:

\•Game(secrets•[''] points•#)
state: Game(['γάτα' 'σκυλί'] 0) … state.secrets.has(Chat()) … state.points:state.points + 1
Stage(state.points = state.secrets.length() ? [Phrase("κερδίζεις!")] [
			Group(Stack() [
					Phrase("μάντεψε τα μυστικά μου λόγια")
					Phrase(`\state.secrets.length() - state.points\περισσότερα μυστικά`)
				])
		])\

Ας το αναλύσουμε αυτό.

• Η πρώτη γραμμή,\•Game(secrets•[''] points•#)\λέει,/Δημιουργήστε μια δομή δεδομένων που ονομάζεται\Game\που αποθηκεύει μια λίστα με μυστικά και σημεία/• Η δεύτερη γραμμή λέει/Η κατάσταση του παιχνιδιού ξεκινά με μια λίστα μυστικών και μηδενικούς βαθμούς. Κάθε φορά που\Chat\αλλαγές, αν η λέξη που εισαγάγατε βρίσκεται στη λίστα με τα μυστικά, τότε δημιουργήστε μια νέα κατάσταση παιχνιδιού με τους πόντους αυξημένους κατά ένα/.• Κάθε φορά που το πρόγραμμα επαναξιολογείται (όταν το\Chat\αλλαγές), εμφάνιση ενός σταδίου. Εάν ο αριθμός των πόντων είναι ίσος με τον αριθμό των μυστικών, εμφανίζεται ένα νικητήριο στάδιο. Εάν όχι, εμφάνιση μιας προτροπής και του αριθμού των μυστικών που απομένουν.

Αυτό το παράδειγμα έχει ορισμένα προβλήματα:

• Αν μαντέψουν μια μυστική λέξη πολλές φορές, κερδίζουν περισσότερους πόντους! Η κατάσταση παιχνιδιού μας μπορεί να χρειαστεί επίσης να θυμάται τι μαντέψαμε, επομένως κάθε λέξη μετριέται μόνο δύο φορές.• Εάν ο παίκτης εισάγει πολλές λέξεις, θα πρέπει να μετρήσει;

Πιο εξελιγμένες καταστάσεις παιχνιδιού και ενημερώσεις παιχνιδιών θα μας βοηθούσαν να χειριστούμε αυτές τις περιπτώσεις.

track-points